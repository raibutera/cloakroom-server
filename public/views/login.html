<div id="login-container"> <cloakroom-logo></cloakroom-logo> <fb-button ng-click="Login.withFacebook()" ng-if="Login.vm.fbStage < 0">Login with Facebook</fb-button> <fb-button ng-click="Login.withFacebook()" ng-if="Login.vm.fbStage >= 0">Logging You In...</fb-button> <mini-loading-bar ng-if="Login.vm.fbStage >= 0"></mini-loading-bar> <form-divider ng-if="Login.vm.fbStage === -1"></form-divider> <form id="login-form" class="legacyCRForm" name="loginForm" novalidate ng-if="Login.vm.fbStage === -1"> <div class="form-group" ng-class="{'has-error':loginForm.loginAlias.$error && submitted, 'has-feedback': Login.vm.showFeedback.loginAlias}"> <input class="form-control" type="text" placeholder="Your Alias or Mobile No." name="loginAlias" id="login-alias" ng-minlength="3" ng-maxlength="14" ng-model="Login.credentials.aliasOrMobile" ng-change="change()" ng-class="{error:Login.badFields.aliasOrMobile && loginForm.loginAlias.$invalid && submitted}" required> <form-error ng-if="loginForm.loginAlias.$error.required && submitted">Please fill this in.</form-error> <form-error ng-if="loginForm.loginAlias.$error.minlength && submitted">Too Short!</form-error> <form-error ng-if="loginForm.loginAlias.$error.maxlength && !loginForm.loginAlias.$pristine">Too long!</form-error> <span class="cr-i-alert form-control-feedback" ng-if="(Login.vm.showFeedback.loginAlias && loginForm.loginAlias.$invalid && submitted) || (loginForm.loginAlias.$invalid && loginForm.password.$dirty && submitted)"></span> <span class="cr-i-tick form-control-feedback" ng-if="Login.vm.showFeedback.loginAlias && loginForm.loginAlias.$valid"></span> </div> <div class="form-group" ng-class="{'has-error':loginForm.password.$error && submitted, 'has-feedback': Login.vm.showFeedback.password}"> <input type="password" class="form-control" placeholder="Password" name="password" ng-minlength="4" id="login-password" ng-change="change()" ng-model="Login.credentials.password" ng-class="{error:Login.badFields.password && loginForm.password.$invalid && submitted}" required> <form-error ng-if="loginForm.password.$error.required && submitted">Please fill this in.</form-error> <form-error ng-if="loginForm.password.$error.minlength && submitted">Too short!</form-error> <span class="cr-i-alert form-control-feedback" ng-if="submitted && Login.vm.showFeedback.password && loginForm.password.$invalid"></span> <span class="cr-i-tick form-control-feedback" ng-if="submitted && Login.vm.showFeedback.password && loginForm.password.$valid"></span> </div> <div class="form-group"> <input type="submit" class="button" id="login-submit" ng-click="Login.login(Login.credentials.aliasOrMobile, Login.credentials.password)" ng-class="{unfilled:loginForm.$invalid}" value="{{Login.vm.loginButton}}"> </div> </form> <a id="login-forgot" ng-click="Login.goToMembership()" ng-if="Login.vm.fbStage === -1"> invited? </a> </div>