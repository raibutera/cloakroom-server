<div id="create-membership-container" ng-if="Membership.canLogin && Membership.controls.displaySignup"> <h1 ng-if="Membership.controls.showTitle">{{Membership.controls.title}}</h1> <div ng-if="!Membership.controls.showForm && !Membership.controls.hideButtons"> <fb-button ng-click="Membership.controls.buttonAction.fb('fb')">Connect to Facebook</fb-button> <p><str>cloakroom</str>&nbsp;will not post anything to your facebook,&nbsp;<str>ever</str>.</p> <form-divider></form-divider> <div class="button" id="create-cloakroom" ng-click="Membership.controls.buttonAction.cr('cr')"><i class="cr-i-key"></i>Create Account</div> <p>Don't like Facebook? Choose this.</p><br> <p><str>cloakroom</str>&nbsp;will&nbsp;<str>always</str>&nbsp;respect your privacy.</p> </div> <div ng-if="Membership.controls.askingInvite" id="askingInvite"> <h1 id="invitationDetails">Invitation Details</h1> <p>An invitation is required to become a Cloakroom member.</p> <form name="checkInvitation" ng-submit="Membership.controls.checkInvitation(Membership.newMember.invitedBy, Membership.newMember.mobileNumber)" novalidate> <p class="question" ng-if="Membership.controls.askInvitedBy">Who were you&nbsp;<str>invited by</str>?</p> <input type="text" placeholder="Invited By (Alias)" ng-hide="Membership.controls.invitedByPrefilled" ng-model="Membership.newMember.invitedBy" name="invitedby" ng-disabled="Membership.controls.invitedByPrefilled" required> <form-error ng-show="checkInvitation.invitedBy.$error.required && Membership.controls.error.invitedBy"> Please fill in the Cloakroom alias of the member that invited you. </form-error> <p class="question">What is your <str>mobile number</str>?</p> <input type="text" name="mobileNumber" placeholder="Mobile No." mobile-number-input ng-model="Membership.newMember.mobileNumber" ng-pattern="/^\(?(?:(?:0(?:0|11)\)?[\s-]?\(?|\+)44\)?[\s-]?\(?(?:0\)?[\s-]?\(?)?|0)(?:\d{2}\)?[\s-]?\d{4}[\s-]?\d{4}|\d{3}\)?[\s-]?\d{3}[\s-]?\d{3,4}|\d{4}\)?[\s-]?(?:\d{5}|\d{3}[\s-]?\d{3})|\d{5}\)?[\s-]?\d{4,5}|8(?:00[\s-]?11[\s-]?11|45[\s-]?46[\s-]?4\d))(?:(?:[\s-]?(?:x|ext\.?\s?|\#)\d+)?)$/" required> <form-error ng-if="Membership.controls.invitationErrors.mobileNumber && checkInvitation.mobileNumber.$error.required"> Please fill in your mobile number.&nbsp;<strong>Cloakroom</strong>&nbsp;respects your privacy;&nbsp;<strong>only</strong>&nbsp;event hosts that&nbsp;<strong>you</strong>&nbsp;choose to link to will have access. </form-error> <form-error ng-hide="!Membership.controls.invitationErrors.mobileNumber" ng-if="checkInvitation.mobileNumber.$dirty && checkInvitation.mobileNumber.$error.pattern"> That Mobile Number seems invalid. Please check and try again. </form-error> <input type="submit" class="formSubmit" value="Check Invite" ng-class="{unfilled:checkInvitation.invitedby.$error.required || checkInvitation.mobileNumber.$error.required}" ng-click="Membership.controls.showInviteErrors()" ng-disabled="Membership.controls.checkDisabled"> </form> </div> <div ng-if="Membership.controls.showForm"> <form ng-submit="createMembership()" name="membershipForm" novalidate> <h3>You</h3> <input type="text" placeholder="First Name" ng-model="Membership.newMember.firstName" name="firstname" ng-minlength="3" ng-maxlength="11" name-input ng-pattern="/^[A-Za-z ]+$/" required ng-change="hideErrors('firstname')"> <form-error ng-show="membershipForm.firstname.$error.required && Membership.controls.error.firstname">Missing!</form-error> <form-error ng-show="membershipForm.firstname.$error.minlength &&  Membership.controls.error.firstname">Too Short!</form-error> <form-error ng-show="membershipForm.firstname.$error.maxlength &&  !membershipForm.firstname.$pristine">Too long!</form-error> <form-error ng-show="membershipForm.firstname.$error.pattern &&  !membershipForm.firstname.$pristine">Alphabetical characters only, please.</form-error> <input type="text" placeholder="Last Name" ng-model="Membership.newMember.lastName" ng-minlength="2" ng-maxlength="26" name="lastname" ng-pattern="/^[A-Za-z ]+$/" ng-change="hideErrors('lastname')" name-input="once" required> <form-error ng-show="membershipForm.lastname.$error.required && Membership.controls.error.lastname">Please fill this in!</form-error> <form-error ng-show="membershipForm.lastname.$error.minlength &&  Membership.controls.error.lastname">Too Short!</form-error> <form-error ng-show="membershipForm.lastname.$error.maxlength &&  !membershipForm.lastname.$pristine">Too long!</form-error> <form-error ng-show="membershipForm.lastname.$error.pattern &&  !membershipForm.lastname.$pristine">Alphabetical characters only, please.</form-error> <input type="email" placeholder="Email Address" ng-model="Membership.newMember.email" name="email" required> <form-error ng-show="membershipForm.email.$error.email && !membershipForm.email.$pristine">Invalid email address</form-error> <div ng-if="!Membership.controls.mobileVerified" id="form-mobile"><input type="text" placeholder="Mobile No." ng-model="Membership.newMember.mobileNumber" name="mobile" required></div> <input type="radio" ng-model="Membership.newMember.isFemale" ng-value="false" id="male" value="false" ng-change="clickGender()"><label for="male" class="male"><i class="cr-i-male"></i></label> <input type="radio" ng-model="Membership.newMember.isFemale" ng-value="true" id="female" value="true" ng-change="clickGender()"><label for="female" class="female"><i class="cr-i-female"></i></label> <h3>Security</h3> <input type="text" placeholder="Invited By (Alias or Mobile)" ng-hide="Membership.controls.invitedByPrefilled" ng-model="Membership.newMember.invitedBy" name="invitedby" ng-disabled="Membership.controls.invitedByPrefilled" required> <form-error ng-show="membershipForm.invitedBy.$error.required && Membership.controls.error.invitedBy">Missing!</form-error> <input id="pw1" type="password" placeholder="Password" ng-model="Membership.newMember.password" ng-minlength="4" ng-maxlength="32" name="password" ng-change="hideErrors('password')" required> <form-error ng-show="membershipForm.password.$error.required && Membership.controls.error.password">Missing!</form-error> <form-error ng-show="membershipForm.password.$error.minlength &&  Membership.controls.error.password">Too Short!</form-error> <form-error ng-show="membershipForm.password.$error.maxlength &&  !membershipForm.password.$pristine">Too long!</form-error> <input id="pw2" type="password" placeholder="Confirm Password" ng-model="Membership.newMember.confirmPassword" name="confirm" ng-change="hideErrors('confirm')" pw-check="pw1" required> <span class="form-error-text" ng-show="membershipForm.confirm.$error.pwmatch && !membershipForm.password.$pristine && !membershipForm.confirm.$pristine">does not match</span> <input type="submit" id="create-membership" value="{{membershipForm.$invalid ? 'Form Incomplete' : 'Continue'}}" class="button" ng-class="{unfilled:membershipForm.$invalid}"> </form> </div> </div> <div class="info-page" ng-if="Membership.controls.invitation.taken"> <i class="cr-i-alert"></i> <h1>Taken!</h1> <p>That&nbsp;<str>cloakroom</str>&nbsp;invitation has already been used!</p> <p>If you are the recipient, or got here accidentally, try logging in.</p> <a ui-sref="login">Login</a> </div> <div class="info-page" ng-if="Membership.controls.invitation.processed"> <i class="cr-i-heart"></i> <h1>Welcome</h1> <p>Welcome!</p> <p>Your new membership is ready.</p> <a ui-sref="home">Member Home</a> </div> <div class="info-page" ng-if="Membership.controls.invitation.processing"> <i class="cr-i-heart"></i> <h1>Just a second...</h1> <p>Your membership should be active shortly.</p> <p>Thank you for your patience.</p> <a ui-sref="home">Continue to Member Home</a> </div> <div class="info-page" ng-if="Membership.controls.invitation.error"> <i class="cr-i-alert2"></i> <h1>Oh no!</h1> <p>We were unable to find any membership invitation matching your request.</p> <p>If you got here by mistake, please login.</p> <a ui-sref="home">Login / Member Home</a> </div> <div class="info-page" ng-if="!Membership.canLogin"> <i class="cr-i-alert2"></i> <h1>Disable Private Browsing</h1> <p>Please turn off private browing and reload this page.</p> </div>