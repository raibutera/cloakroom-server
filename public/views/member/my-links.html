<div id="my-links" class="container-fluid infopage"> <h1>Links</h1> <div class="row"> <div class="col-xs-12"> <!-- <h2>Search Links</h2> --> <!-- TODO: search icon --> <label class="col-xs-1 control-label control-label-lg label-inner-icon" for="searchLinks"><i class="cr-i-search"></i></label> <div class="col-xs-10"> <input class="form-control input-lg has-feedback" type="text" name="searchLinks" placeholder="Type a link's Name or Alias" ng-model="links.searchTerm" ng-change="links.actions.searching()"> <span class="form-control-feedback cr-i-delete-circle clickable" ng-if="links.searchTerm.length > 0" ng-click="links.searchTerm = ''"></span> <label for="searchLinks" class="sr-only">Search links by typing a link's Name or Cloakroom Alias</label> </div> </div> </div> <div class="row"> <div class="col-xs-12"> <!-- <h2 ng-if="links.controls.searching === false" id="links">Your Links</h2> --> <div ng-if="links.controls.searching === true"> <div class="row" ng-if="links.search.ongoing === true"> <div class="col-xs-12"><mini-loading-bar></mini-loading-bar></div> </div> <div id="results" ng-if="links.search.ongoing === false"> <div ng-if="links.search.results.length === 0 && links.searchTerm !== ''"> No results</div> <div ng-if="links.search.results.length > 0"> <div class="row link-item-wrapper" ng-repeat="link in links.search.results"> <div class="link-item-container"> <div class="col-xs-2 icon"> <profile-photo image="{{link.photoUrl}}" ng-if="link.photoUrl"></profile-photo> <photo-placeholder female="link.isFemale" ng-if="!link.photoUrl"></photo-placeholder> </div> <div class="col-xs-4 details"> <span class="firstName" ng-if="link.firstName">{{link.firstName}}</span> <span class="lastName" ng-if="link.lastName">{{link.lastName}}</span> <span class="alias">~{{link.alias}}</span> <span class="mobileNumber" ng-if="link.mobileNumber">link.mobileNumber</span> </div> <div class="col-xs-6 actions"> <a ng-click="links.actions.unlink(link.id, link.firstName)">Unlink</a> <a ng-click="links.actions.viewProfile(link.username)">View Profile</a> </div> </div> </div> </div> </div> </div> <div ng-if="links.search.results.length === 0 || !links.controls.hideInitial || links.searchTerm === ''"> <div class="row link-item-wrapper" ng-repeat="link in links.vm.data | filter: links.searchTerm"> <div class="link-item-container"> <div class="col-xs-2 icon"> <profile-photo image="{{link.photoUrl}}" ng-if="link.photoUrl"></profile-photo> <photo-placeholder female="link.isFemale" ng-if="!link.photoUrl"></photo-placeholder> </div> <div class="col-xs-4 details"> <span class="firstName" ng-if="link.firstName">{{link.firstName}}</span> <span class="lastName" ng-if="link.lastName">{{link.lastName}}</span> <span class="alias">~{{link.alias}}</span> <span class="mobileNumber" ng-if="link.mobileNumber">link.mobileNumber</span> </div> <div class="col-xs-6 actions"> <a ng-click="links.actions.unlink(link.id, link.firstName)">Unlink</a> <a ng-click="links.actions.viewProfile(link.username, link.firstName)">View Profile</a> </div> </div> </div> </div> </div> </div> <div class="row"> <button type="button" class="btn btn-default btn-block" ng-click="links.actions.nextPage()" ng-if="(!links.controls.searching || links.searchTerm === '') && links.controls.showMoreButton && !links.controls.fetchingMore && (links.vm.data.length % 10 === 0 && links.vm.modified === false)">More</button> <div class="col-xs-12" ng-if="links.controls.fetchingMore"> <mini-loading-bar></mini-loading-bar> </div> </div> </div>